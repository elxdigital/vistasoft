<?php

namespace ElxDigital\Vista\Services;

use \ElxDigital\Vista\Vista;

class Realty extends Vista {

    private $filds;
    private $params;

    private function getFilds() {
        $this->filds = [
            'Academia',
            'AceitaDacao',
            'AceitaFinanciamento',
            'AceitaPermuta',
            'AceitaPermutaCarro',
            'AceitaPermutaOutro',
            'AceitaPermutaTipoVeiculo',
            'AdministradoraCondominio',
            'AlugarJaDestaque',
            'AnoConstrucao',
            'AnoMinimoVeicPermuta',
            'AptosAndar',
            'AptosEdificio',
            'AreaBoxPrivativa',
            'AreaBoxTotal',
            'AreaConstruida',
            'AreaPrivativa',
            'AreaTerreno',
            'AreaTotal',
            'AreaUtil',
            'Bairro',
            'BairroComercial',
            'BanheiroSocialQtd',
            'Bloco',
            'CampanhaImportacao',
            'CasaMineiraModelo',
            'Categoria',
            'CEP',
            'Chave',
            'ChaveNaAgencia',
            'ChavesNaMaoDestaque',
            'Cidade',
            'ClasseDoImovel',
            'CodigoMalote',
            'Complemento',
            'ComplementoMigrado',
            'Construtora',
            'CorretorPrimeiroAge',
            'Credenciado_caixa',
            'DataAtualizacao',
            'DataCadastro',
            'DataDisponibilizacao',
            'DataEntrega',
            'DataFimAutorizacao',
            'DataImportacao',
            'DataInicioAutorizacao',
            'DataLancamento',
            'DescricaoEmpreendimento',
            'DescricaoWeb',
            'DestaquePetropolisImoveis',
            'DestaqueWeb',
            'DimensoesTerreno',
            'Dormitorios',
            'EEmpreendimento',
            'EmitiuNotaFiscalComissao',
            'EmpOrulo',
            'Empreendimento',
            'Endereco',
            'Exclusivo',
            'ExclusivoCorretor',
            'ExibirComentarios',
            'ExibirNoSite',
            'Finalidade',
            'FolhaSPModelo',
            'GaragemNumeroBox',
            'GaragemTipo',
            'GrupoSPTipoOferta',
            'HoraDomFim',
            'HoraDomInicio',
            'HoraFerFim',
            'HoraFerInicio',
            'HoraSabFim',
            'HoraSabInicio',
            'HoraSegSexFim',
            'HoraSegSexInicio',
            'Imediacoes',
            'ImovelaVendaDestaqueImovelaVenda',
            'ImovelwebModelo',
            'ImportadoMalote',
            'Incompleto',
            'Incorporadora',
            'InformacaoVenda',
            'InicioObra',
            'InscricaoGas',
            'InscricaoIptu',
            'InscricaoIptuGaragem',
            'InscricaoMunicipal',
            'KeywordsWeb',
            'Lancamento',
            'Limpeza',
            'LocacaoAnual',
            'LocacaoTemporada',
            'LocalizacaoPermuta',
            'LojasEdificio',
            'Lote',
            'LugarCertoDestaqueLugarCerto',
            'Matricula',
            'MercadoLivreTipoML',
            'MesConstrucao',
            'MetragemBox',
            'Midia',
            'Modulos',
            'Numero',
            'NumeroEnergiaEletrica',
            'NumeroHidrometro',
            'Observacoes',
            'ObsLocacao',
            'ObsVenda',
            'Ocupacao',
            'OLXFinalidadesPublicadas',
            'Orientacao',
            'Orulo',
            'PadraoConstrucao',
            'Pais',
            'Pavimentos',
            'PercentualComissao',
            'Plantao',
            'PlantaoNoLocal',
            'PorteEstrutural',
            'Posicao',
            'PosicaoAndar',
            'PotenciaKVA',
            'PrazoDesocupacao',
            'Prestacao',
            'ProjetoArquitetonico',
            'Proposta',
            'PropostaLocacao',
            'QntDormitoriosPermuta',
            'QntGaragensPermuta',
            'QntSuitesPermuta',
            'QTDGalpoes',
            'QtdVarandas',
            'Quadra',
            'Reajuste',
            'Referencia',
            'ReferenciaMigrada',
            'Regiao',
            'ResponsavelReserva',
            'SaldoDivida',
            'Setor',
            'Situacao',
            'Status',
            'Suites',
            'SummerSale',
            'SuperDestaqueWeb',
            'TemPlaca',
            'TextoAnuncio',
            'TipoEndereco',
            'TipoImovel',
            'TipoImovelPermuta',
            'TipoOferta321Achei',
            'TipoTeto',
            'TiqueImoveisEmDestaque',
            'TituloSite',
            'TotalComissao',
            'UF',
            'URLVideo',
            'Vagas',
            'VagasCobertas',
            'VagasDescobertas',
            'ValorACombinar',
            'ValorComissao',
            'ValorCondominio',
            'ValorCondominioM2',
            'ValorDiaria',
            'ValorIptu',
            'ValorIPTUM2',
            'ValorLimpeza',
            'ValorLivreProprietario',
            'ValorLocacao',
            'ValorLocacaoM2',
            'ValorM2',
            'ValorPermutaImovel',
            'ValorTotalAluguel',
            'ValorVenda',
            'ValorVendaM2',
            'Venda',
            'Visita',
            'VisitaAcompanhada',
            'VivaRealDestaqueVivaReal',
            'VivaRealDivulgarEnderecoVivaReal',
            'VivaRealPublicationType',
            'WebEscritoriosDestaque',
            'ZapTipoOferta',
            'ZeladorNome',
            'ZeladorTelefone',
            'Zona',
            'CategoriaImovel',
            'CategoriaMestre',
            'CategoriaGrupo',
            'ImoCodigo',
            'Moeda',
            'ConverterMoeda',
            'MoedaIndice',
            'CodigoEmpresa',
            'CodigoEmp',
            'CodigoEmpreendimento',
            'CodigoCategoria',
            'CodigoMoeda',
            'CodigoProprietario',
            'Proprietario',
            'ProprietarioPesquisa',
            'FotoProprietario',
            'DataHoraAtualizacao',
            'VideoDestaque',
            'VideoDestaqueTipo',
            'FotoDestaque',
            'FotoDestaquePequena',
            'FotoDestaqueEmpreendimento',
            'FotoDestaqueEmpreendimentoPequena',
            'Latitude',
            'Longitude',
            'Agenciador',
            'CorretorNome',
            'CodigoCorretor',
            'AssuntoProntuario',
            'PendenteProntuario',
            'EstadoProntuario',
            'DataInicioProntuario',
            'DataProntuario',
            'CodigoAgencia',
            'TotalBanheiros',
            'Caracteristicas' => [
                'Aberturas',
                'Adega',
                'AguaQuente',
                'Alarme',
                'AndarDoApto',
                'Andares',
                'AntenaParabolica',
                'AquecimentoEletrico',
                'ArCentral',
                'ArCondicionado',
                'AreaEscritorio',
                'AreaLaje',
                'AreaMezanino',
                'AreaServico',
                'ArmarioEmbutido',
                'BanheiroAuxiliar',
                'BanheiroSocial',
                'Bar',
                'Calefacao',
                'CanaletasNoRodape',
                'CercaEletrica',
                'Churrasqueira',
                'Closet',
                'ConstrucaoAlvenaria',
                'Copa',
                'CopaCozinha',
                'Cozinha',
                'CozinhaAmericana',
                'CozinhaComTanque',
                'CozinhaMontada',
                'CozinhaPlanejada',
                'Deck',
                'DependenciadeEmpregada',
                'DependenciaDeEmpregada',
                'Despensa',
                'DormitorioComArmario',
                'Edicula',
                'Escritorio',
                'EsperaSplit',
                'EstadoConservacaoImovel',
                'EstarIntimo',
                'FormatodoGalpao',
                'Forro',
                'Gabinete',
                'Gradeado',
                'Hidromassagem',
                'HidroSuite',
                'HomeTheater',
                'JardimInverno',
                'Lareira',
                'Lavabo',
                'Leste',
                'Living',
                'LivingAmbientes',
                'LivingHall',
                'LocalCargaEDescarga',
                'Mezanino',
                'Mobiliado',
                'Monitoramento',
                'Norte',
                'Oeste',
                'Patio',
                'PeDireitoAlto',
                'Piscina',
                'Piso',
                'PisoAreaIntima',
                'PisoDormitorio',
                'PisoElevado',
                'PisoSala',
                'Porao',
                'Quintal',
                'Reformado',
                'Sacada',
                'SacadaComChurrasqueira',
                'Sala',
                'SalaArmarios',
                'SalaEstar',
                'SalaJantar',
                'Salas',
                'SalaTV',
                'Sauna',
                'SemiMobiliado',
                'Sotao',
                'Split',
                'SuiteMaster',
                'Sul',
                'Terraco',
                'TVCabo',
                'ValorAluguelPorM2',
                'Varanda',
                'VigiaExterno',
                'VigiaInterno',
                'VistaMar',
                'VistaPanoramica',
                'Vitrine',
                'WCEmpregada',
            ],
            'InfraEstrutura' => [
                'Agua',
                'AquecimentoCentral',
                'AreaArmazem',
                'AreaLocavel',
                'Bicicletario',
                'Brinquedoteca',
                'CabineDeForca',
                'Canil',
                'CapacidadePiso',
                'ChurrasqueiraCondominio',
                'CircuitoFechadoTV',
                'CondominioFechado',
                'Conjutos',
                'ConstrucaoMista',
                'Deposito',
                'EdificioResidencial',
                'Elevador',
                'Elevadores',
                'ElevadorServico',
                'EmpresaDeMonitoramento',
                'EnergiaEletrica',
                'EnergiaTrifasica',
                'EntradaServicoIndependente',
                'EspacoGourmet',
                'Estacionamento',
                'EstacionamentoVagas',
                'EstacionamentoVisitantes',
                'EstadoConservacaoEdificio',
                'Face',
                'Fachada',
                'Frente',
                'Fundos',
                'Garagem',
                'GaragemCoberta',
                'GasCentral',
                'GeradorEnergia',
                'Gradil',
                'Guarita',
                'Heliponto',
                'Iluminacao',
                'Interfone',
                'Jardim',
                'Junker',
                'Lavanderia',
                'Marquise',
                'NomeEmpresaMonitoramento',
                'OnibusProximo',
                'Pavimentacao',
                'Pilotis',
                'PiscinaAquecida',
                'PiscinaColetiva',
                'PiscinaInfantil',
                'PistaCaminhada',
                'Playground',
                'PocoArtesiano',
                'Portaria',
                'Portaria24Hrs',
                'PortariaBlindada',
                'PorteiroEletronico',
                'PortoesComEclusa',
                'PossuiViabilidade',
                'QuadraEsportes',
                'QuadraPoliEsportiva',
                'QuadraTenis',
                'Quiosque',
                'RedeEsgoto',
                'SalaDeRecepcao',
                'SalaFitness',
                'SalaoFestas',
                'SalaoJogos',
                'SalasEdificio',
                'SaunaCondominio',
                'SegurancaPatrimonial',
                'Shaft',
                'Spa',
                'TerracoColetivo',
                'Topografia',
                'Tubulacao',
                'Vigilancia24Horas',
                'Zelador',
            ],
            'codigo' => ['Codigo'],
            'Corretor' => [
                'Datacadastro',
                'RG_Inscricao',
                'RGEmissor',
                'CPF_CGC',
                'Nascimento',
                'Nacionalidade',
                'CNH',
                'CNHExpedicao',
                'CNHVencimento',
                'Celular',
                'Endereco',
                'Bairro',
                'Cidade',
                'UF',
                'CEP',
                'Pais',
                'Fone',
                'Fax',
                'Email',
                'Nome',
                'Observacoes',
                'Administrativo',
                'Agenciador',
                'Gerente',
                'Empresa',
                'Codigo',
                'Celular1',
                'Celular2',
                'Corretor',
                'Datasaida',
                'Equipe',
                'Grupoacesso',
                'Nomecompleto',
                'Ramal',
                'Sexo',
                'Exibirnosite',
                'RecebeClientesemTrocaautomática',
                'Inativo',
                'CRECI',
                'Estadocivil',
                'Grupoacesso2',
                'Diretor',
                'MetadeCaptacoes',
                'MetaValordeVendas',
                'EnderecoTipo',
                'EnderecoNumero',
                'EnderecoComplemento',
                'Bloco',
                'Chat',
                'CategoriaRanking',
                'AtuacaoVenda',
                'AtuacaoLocacao',
                'Foto',
                'Tipo',
                'CodigoAgencia',
                'Agencia',
                'CodigoEquipe',
            ],
            'Agencia' => [
                'Agencia',
                'Nome',
                'Bairro',
                'Celular',
                'Cep',
                'Cidade',
                'Cnpj',
                'Codigo',
                'CpfResponsavel',
                'DDD',
                'Email',
                'Empresa',
                'Endereco',
                'EnderecoComplemento',
                'EnderecoNumero',
                'Fone',
                'Fone2',
                'Pais',
                'RazaoSocial',
                'Responsavel',
                'Rresponsavel',
                'Uf',
                'Site',
            ],
            'Foto' => [
                'Codigo',
                'ImagemCodigo',
                'Data',
                'Descricao',
                'Destaque',
                'ExibirNoSite',
                'ExibirSite',
                'Foto',
                'FotoOriginal',
                'FotoPequena',
                'Tipo',
                'Origem',
                'Ordem',
            ],
            'FotoEmpreendimento' => [
                'Codigo',
                'Ordem',
                'Data',
                'Descricao',
                'Destaque',
                'Foto',
                'FotoPequena',
                'Tipo',
                'ExibirNoSite',
            ],
            'Anexo' => [
                'Codigo',
                'CodigoAnexo',
                'Descricao',
                'Anexo',
                'Arquivo',
                'ExibirNoSite',
                'ExibirSite',
                'Data',
            ],
            'Video' => [
                'Codigo',
                'VideoCodigo',
                'Data',
                'Descricao',
                'DescricaoWeb',
                'Destaque',
                'ExibirNoSite',
                'ExibirSite',
                'Video',
                'Tipo',
            ]
        ];
        return $this->filds;
    }

    public function getListFields() {
        $this->setEndPoint('imoveis/listarcampos');

        $return = $this->get();

        return $return;
    }

    public function getPropertiesFull() {
        $this->setEndPoint('imoveis/listar');
        $this->setTerms('&showtotal=1&pesquisa=');
        $this->params['fields'] = $this->getFilds();

        if (!empty($this->getOrder())) {
            $this->params['order'] = $this->getOrder();
        }

        if (!empty($this->getPagination())) {
            $this->params['paginacao'] = $this->getPagination();
        }

        $this->setParams($this->params);
        $return = $this->get();

        return $return;
    }

    public function getPropertiesDays(int $days) {
        $this->setEndPoint('imoveis/listar');
        $this->setTerms('&showtotal=1&pesquisa=');
        $this->params['fields'] = $this->getFilds();

        if (!empty($this->getOrder())) {
            $this->params['order'] = $this->getOrder();
        }

        if (!empty($this->getPagination())) {
            $this->params['paginacao'] = $this->getPagination();
        }

        $lastDay = date('Y-m-d', strtotime('-' . $days . ' days'));
        $day = date('Y-m-d');
        $this->setFilter('DataAtualizacao', [$lastDay, $day]);

        $this->setParams($this->params);
        $return = $this->get();

        return $return;
    }
}
